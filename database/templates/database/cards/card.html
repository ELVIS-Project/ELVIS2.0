<!---
    Defines a generic card that can be reused anytime that objects are displayed in a list.

    It should be used with the "include" template tag and it expects that a dictionary called summary is passed.
    The summary must have the "display" and "url" key-value pairs, and those are used to display a title and create
    a link respectively.

    If there are "badge_count" and "badge_name" key-value pairs, those are used to create a badge on the right side.
    Any other key:value pairs are displayed on a list under the title
-->

<a href='{{ summary.url }}'
   class="card m-2">

    <div class="card-body text-dark">
        <div class="d-inline-flex"
             style="width: 100%">
            <h5 class="card-title mr-auto">
                {{ summary.display }}
            </h5>
            <!--Creates the badge if the necessary key-value pairs are there-->
            {% if summary.badge_count and summary.badge_name %}
                <span class="badge badge-info align-self-start">
                        {{ summary.badge_count }} {{ summary.badge_name|title }}
                </span>
            {% endif %}
        </div>
        <!--Loops through the other attributes and lists them under the display text-->
        {% for key, value in summary.items %}
            {% if key != 'display' and key != 'url' and key != 'badge_count' and key != 'badge_name' %}
                {% if value %}
                    <p class="pt-0 mt-0 mb-0 pb-0">
                        <small><b>{{ key|title }}:</b> {{ value }}</small>
                    </p>
                {% endif %}
            {% endif %}
        {% endfor %}
    </div>
</a>