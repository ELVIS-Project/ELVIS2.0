{% extends "database/base.html" %}
{% load i18n %}
{% load widget_tweaks %}
{% load template_helpers %}
{% block content %}
    <script>
    $(document).ready(function(){
        $('[data-toggle="popover"]').popover();
    });
    </script>
    {% if form.instance.lower_case_name == 'musicalwork' %}
        <h1>Create A New Musical Work</h1>
    {% elif form.instance.lower_case_name == 'audiofile' %}
        <h1>Create A New Audio File</h1>
    {% elif form.instance.lower_case_name == 'geographicarea' %}
        <h1>Create A New Geographic Area</h1>
    {% elif form.instance.lower_case_name == 'imagefile' %}
        <h1>Create A New Image File</h1>
    {% elif form.instance.lower_case_name == 'researchcorpus' %}
        <h1>Create A New Research Corpus</h1>
    {% elif form.instance.lower_case_name == 'symbolicmusicfile' %}
        <h1>Create A New Symbolic Music File</h1>
    {% elif form.instance.lower_case_name == 'textfile' %}
        <h1>Create A New Text File</h1>
    {% elif form.instance.lower_case_name == 'collectionofsources' %}
        <h1>Create A New Collection of Sources</h1>
    {% else %}
        <h1>Create A New {{ form.instance.lower_case_name|title }}</h1>
    {% endif %}
    <form method="POST" class="post-form">
    {% csrf_token %}
    {% if form.non_field_errors %}
    <div class="alert alert-danger" role="alert">
      {% for error in form.non_field_errors %}
        {{ error }}
      {% endfor %}
    </div>
    {% endif %}
        {% for field in form %}
            <div class="input-group padding">
            {% if field.field.required %}
            <span class="input-group-addon sync" data-toggle="popover" data-placement="top" data-trigger="hover"
                    data-html='true'
                    title="<b>{{ field.label }}</b><span class='label label-danger pull-right'>Required</span>"
                  data-content="{{ field.help_text }}"><strong style="height: 20px;">{{ field.label }}</strong></span>
             {% else %}
            <span class="input-group-addon sync" data-toggle="popover" data-placement="top" data-trigger="hover"
                    data-html='true'
                    title="<b>{{ field.label }}</b><span class='label label-success pull-right'>Optional</span>"
                  data-content="{{ field.help_text }}"><strong>{{ field.label }}</strong></span>
             {% endif %}
            {% render_field field class="form-control" %}
            </div>
            <div style="color: #cc0033;">
                {{ field.errors }}
            </div>
            {% if field.field.widget.input_type == 'select' %}
                {% if field.label != 'Religiosity' and field.label != 'Physical or electronic' and field.field.queryset.model|get_model_name != 'source' and field.field.queryset.model|get_model_name != 'auth_user' and field.field.queryset.model|get_model_name != 'extracted_feature' and field.field.queryset.model|get_model_name != 'symbolic_music_file'%}
                    <a href={% url field.field.queryset.model|get_model_name %}>Create A New "{{ field.label|lower }}" Entry</a>
                    {{ field.field.queryset.model|get_model_name }}
                {% endif %}
            {% endif %}
        {% endfor %}
    <br>
    <button type="submit" class="save btn btn-default" >Save</button>
    </form>
{% endblock %}


